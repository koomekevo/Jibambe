var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeVideo=_interopRequireDefault(require("react-native-video"));var _styles=_interopRequireDefault(require("./styles"));var _Entypo=_interopRequireDefault(require("react-native-vector-icons/Entypo"));var _AntDesign=_interopRequireDefault(require("react-native-vector-icons/AntDesign"));var _FontAwesome=_interopRequireDefault(require("react-native-vector-icons/FontAwesome"));var _Fontisto=_interopRequireDefault(require("react-native-vector-icons/Fontisto"));var _jsxRuntime=require("react/jsx-runtime");var _this=this,_jsxFileName="/home/kevinkoome/SoloProjects/Jibambe/src/components/Post/index.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Post=function Post(props){var _useState=(0,_react.useState)(props.post),_useState2=(0,_slicedToArray2.default)(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),paused=_useState4[0],setPaused=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2.default)(_useState5,2),isLiked=_useState6[0],setIsLiked=_useState6[1];var onPlayPausePress=function onPlayPausePress(){setPaused(!paused);};var onLikePress=function onLikePress(){var likesToAdd=isLiked?-1:1;setPost(Object.assign({},post,{likes:post.likes+likesToAdd}));setIsLiked(!isLiked);};return(0,_jsxRuntime.jsx)(_reactNative.View,{style:_styles.default.container,children:(0,_jsxRuntime.jsx)(_reactNative.TouchableWithoutFeedback,{onPress:onPlayPausePress,children:(0,_jsxRuntime.jsxs)(_reactNative.View,{children:[(0,_jsxRuntime.jsx)(_reactNativeVideo.default,{source:{uri:post.videoUri},style:_styles.default.video,onError:function onError(e){return console.log(e);},resizeMode:'cover',repeat:true,paused:paused}),(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.uiContainer,children:[(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.rightContainer,children:[(0,_jsxRuntime.jsx)(_reactNative.Image,{style:_styles.default.profilePicture,source:{uri:post.user.imageUri}}),(0,_jsxRuntime.jsxs)(_reactNative.TouchableOpacity,{style:_styles.default.iconContainer,onPress:onLikePress,children:[(0,_jsxRuntime.jsx)(_AntDesign.default,{name:'heart',size:40,color:isLiked?'#ff0000':'#fff'}),(0,_jsxRuntime.jsx)(_reactNative.Text,{style:_styles.default.statsLabel,children:post.likes})]}),(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.iconContainer,children:[(0,_jsxRuntime.jsx)(_FontAwesome.default,{name:'commenting',size:40,color:"#fff"}),(0,_jsxRuntime.jsx)(_reactNative.Text,{style:_styles.default.statsLabel,children:post.comments})]}),(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.iconContainer,children:[(0,_jsxRuntime.jsx)(_Fontisto.default,{name:'share-a',size:35,color:"#fff"}),(0,_jsxRuntime.jsx)(_reactNative.Text,{style:_styles.default.statsLabel,children:post.shares})]})]}),(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.bottomContainer,children:[(0,_jsxRuntime.jsxs)(_reactNative.View,{children:[(0,_jsxRuntime.jsxs)(_reactNative.Text,{style:_styles.default.handle,children:["@",post.user.username]}),(0,_jsxRuntime.jsx)(_reactNative.Text,{style:_styles.default.description,children:post.description}),(0,_jsxRuntime.jsxs)(_reactNative.View,{style:_styles.default.songRow,children:[(0,_jsxRuntime.jsx)(_Entypo.default,{name:'beamed-note',size:24,color:"#fff"}),(0,_jsxRuntime.jsx)(_reactNative.Text,{style:_styles.default.songName,children:post.songName})]})]}),(0,_jsxRuntime.jsx)(_reactNative.Image,{style:_styles.default.songImage,source:{uri:post.user.imageUri}})]})]})]})})});};var _default=Post;exports.default=_default;